var reporting=document.getElementById("station-reporting");var notReporting=document.getElementById("station-not-reporting");var battery=document.getElementById("station-battery");var isCharging=document.getElementById("station-isCharging");var chargeTime=document.getElementById("station-chargeTime");var lostPackets=document.getElementById("station-lostPackets");var resets=document.getElementById("station-resets");var updateTime=document.getElementById("station-update-time");var uptime=document.getElementById("station-uptime");var base_uptime=document.getElementById("base-uptime");var base_resets=document.getElementById("base-resets");function getTime(l){var g="";const b=60;const c=b*60;const k=c*24;const i=k*365;if(l>i){var j=Math.floor(l/i);g+=j;g+=(j==1?" year ":" years ")}if(l>k){var f=Math.floor(l/k)%(i/k);g+=f;g+=(f==1?" day ":" days ")}if(l>c){var e=Math.floor(l/c)%(k/c);g+=e;g+=(e==1?" hour ":" hours ")}if(l>b){var a=Math.floor(l/b)%(c/b);g+=a;g+=(a==1?" minute ":" minutes ")}var n=l%b;g+=n;g+=(n==1?" second":" seconds");return g}var uptime_seconds=0;var base_uptime_seconds=0;var uptime_orig=0;var base_uptime_orig=0;function setTime(){uptime.textContent=getTime(uptime_seconds);base_uptime.textContent=getTime(base_uptime_seconds);uptime_seconds++;base_uptime_seconds++}function updateStatus(){$.get("/php/status.php",function(a){var b=JSON.parse(a);if(b.uptime!=uptime_orig||b.base_uptime!=base_uptime_orig){base_uptime_orig=b.base_uptime;uptime_orig=b.uptime;uptime_seconds=b.uptime;base_uptime_seconds=b.base_uptime;setTime()}if(b.reporting){notReporting.style.display="none";reporting.style.display="block"}else{reporting.style.display="none";notReporting.style.display="block"}updateTime.textContent=b.date;battery.textContent=Number(b.battery).toFixed(2);isCharging.textContent=b.is_charging?"Yes":"No";chargeTime.textContent=getTime(b.time_charging);lostPackets.textContent=b.lost_packets;resets.textContent=b.resets;base_resets.textContent=b.base_resets})}window.addEventListener("load",function(a){setInterval(updateStatus,30*1000);updateStatus();setInterval(setTime,1000)});