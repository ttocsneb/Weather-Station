var reporting=document.getElementById("station-reporting"),notReporting=document.getElementById("station-not-reporting"),battery=document.getElementById("station-battery"),isCharging=document.getElementById("station-isCharging"),chargeTime=document.getElementById("station-chargeTime"),lostPackets=document.getElementById("station-lostPackets"),resets=document.getElementById("station-resets"),updateTime=document.getElementById("station-update-time"),uptime=document.getElementById("station-uptime"),base_uptime=document.getElementById("base-uptime"),base_resets=document.getElementById("base-resets");function getTime(e){var t="";if(e>31536e3){var n=Math.floor(e/31536e3);t+=n,t+=1==n?" year ":" years "}if(e>86400){var s=Math.floor(e/86400)%365;t+=s,t+=1==s?" day ":" days "}if(e>3600){var i=Math.floor(e/3600)%24;t+=i,t+=1==i?" hour ":" hours "}if(e>60){var o=Math.floor(e/60)%60;t+=o,t+=1==o?" minute ":" minutes "}var a=e%60;return t+=a,t+=1==a?" second":" seconds"}var uptime_seconds=0,base_uptime_seconds=0,uptime_orig=0,base_uptime_orig=0;function setTime(){uptime.textContent=getTime(uptime_seconds),base_uptime.textContent=getTime(base_uptime_seconds),uptime_seconds++,base_uptime_seconds++}function updateStatus(){$.get("/php/status.php",function(e){var t=JSON.parse(e);t.uptime==uptime_orig&&t.base_uptime==base_uptime_orig||(base_uptime_orig=t.base_uptime,uptime_orig=t.uptime,uptime_seconds=t.uptime,base_uptime_seconds=t.base_uptime,setTime()),t.reporting?(notReporting.style.display="none",reporting.style.display="block"):(reporting.style.display="none",notReporting.style.display="block"),updateTime.textContent=t.date,battery.textContent=Number(t.battery).toFixed(2),isCharging.textContent=t.is_charging?"Yes":"No",chargeTime.textContent=getTime(t.time_charging),lostPackets.textContent=t.lost_packets,resets.textContent=t.resets,base_resets.textContent=t.base_resets})}window.addEventListener("load",function(e){setInterval(updateStatus,3e4),updateStatus(),setInterval(setTime,1e3)});